---
---
<nav class="navbar" id="mainNav">
  <div class="container nav-container">
    <a href="#" class="logo">
      <span class="logo-sig">N.A.L.</span>
      <div class="logo-divider"></div>
      <div class="logo-text">
        <span>ESTUDIO</span>
        <span>JURÍDICO</span>
      </div>
    </a>
    
    <button class="menu-toggle" id="menuToggle" aria-label="Abrir menú">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <div class="nav-menu" id="navMenu">
      <ul class="nav-links">
        <li><a href="#inicio">Inicio</a></li>
        <li><a href="#especialidad">Áreas de Práctica</a></li>
        <li><a href="#estudio">El Estudio</a></li>
      </ul>
      <div class="nav-cta">
        <a href="#contacto" class="btn-primary">Consulta Gratuita</a>
      </div>
    </div>
  </div>
</nav>

<script>
  // 1. Lógica del Menú Móvil
  const toggle = document.getElementById('menuToggle');
  const menu = document.getElementById('navMenu');
  const links = document.querySelectorAll('.nav-links a');

  if (toggle && menu) {
    toggle.addEventListener('click', () => {
      const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', !isExpanded ? 'true' : 'false');
      
      menu.classList.toggle('active');
      toggle.classList.toggle('active');
      document.body.classList.toggle('no-scroll');
    });

    links.forEach(link => {
      link.addEventListener('click', () => {
        menu.classList.remove('active');
        toggle.classList.remove('active');
        document.body.classList.remove('no-scroll');
      });
    });
  }

  // 2. Lógica del Scroll (Transparente -> Fondo Sólido)
  const nav = document.getElementById('mainNav');
  
  if (nav) {
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
    });
  }
</script>

<style>
  /* ======================
     NAVBAR STYLES (NAL)
     ====================== */
  
  /* Base */
  .navbar {
    position: fixed;
    top: 0; left: 0; width: 100%;
    height: var(--nav-height);
    background: transparent;
    border-bottom: 1px solid transparent;
    z-index: 1000;
    transition: all 0.4s ease;
  }

  .menu-overlay ul {
    padding: 0;
    margin: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
    align-items: center; /* Clave para que los <li> se centren */
    gap: 2rem; /* Espacio entre items */
  }

  .menu-overlay {
    display: flex;
    flex-direction: column;
    justify-content: center; /* Centra verticalmente */
    align-items: center;     /* Centra horizontalmente */
    text-align: center;      /* Asegura que el texto dentro de los enlaces también se centre */
  }

  /* Estado Scrolled (Fondo Azul + Blur) */
  .navbar.scrolled {
    background: rgba(42, 50, 75, 0.90); /* Azul NAL con transparencia */
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(224, 195, 232, 0.1); /* Borde lila muy sutil */
    height: 80px; /* Se achica un poco al bajar */
  }

  .nav-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 100%;
  }

  /* LOGO */
  .logo { display: flex; align-items: center; gap: 1rem; text-decoration: none; color: #fff; z-index: 1003; }
  
  .logo-sig {
    font-family: 'Allura', cursive;
    font-size: 2.2rem; /* Ajustado para que no sea excesivo */
    color: var(--color-accent);
    line-height: 1;
    margin-top: 5px;
  }

  .logo-divider {
    width: 1px; height: 30px; background: rgba(255,255,255,0.2);
  }

  .logo-text { 
    display: flex; flex-direction: column; 
    font-family: 'Lato', sans-serif; 
    font-size: 0.7rem; 
    letter-spacing: 2px; 
    font-weight: 700;
    color: var(--color-text-muted);
  }

  /* LINKS DESKTOP */
  .nav-menu { display: flex; align-items: center; gap: 3rem; }
  .nav-links { display: flex; gap: 2rem; list-style: none; padding: 0; margin: 0; }
  
  .nav-links a {
    color: #fff; 
    text-decoration: none; 
    text-transform: uppercase;
    font-size: 0.75rem; 
    letter-spacing: 1.5px; 
    opacity: 0.8; 
    transition: all 0.3s;
    position: relative;
  }

  /* Efecto Hover sutil */
  .nav-links a::after {
    content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px;
    background: var(--color-accent); transition: width 0.3s ease;
  }
  .nav-links a:hover { opacity: 1; color: var(--color-accent); }
  .nav-links a:hover::after { width: 100%; }

  /* MOBILE TOGGLE (CORREGIDO) */
  .menu-toggle { 
    display: none; 
    background: none; 
    border: none; 
    cursor: pointer; 
    flex-direction: column; 
    gap: 6px; 
    z-index: 1003; /* Por encima del menú abierto */
    padding: 10px; /* Área de click más grande */
  }
  
  /* AQUÍ ESTABA EL ERROR: Faltaba width y height */
  .bar { 
    width: 30px; 
    height: 2px; 
    background-color: var(--color-accent); 
    transition: all 0.3s ease;
    border-radius: 2px;
  }

  /* RESPONSIVE */
  @media (max-width: 900px) {
    .menu-toggle { display: flex; }
    
    /* Animación hamburguesa a X */
    .menu-toggle.active .bar:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    .menu-toggle.active .bar:nth-child(2) { opacity: 0; }
    .menu-toggle.active .bar:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    .nav-menu {
      position: fixed; 
      top: 0; left: 0; 
      width: 100%; height: 100vh;
      background: var(--color-bg); /* Azul NAL */
      flex-direction: column; 
      justify-content: center;
      align-items: center;
      gap: 3rem; 
      transform: translateX(100%); 
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1001; /* Debajo del logo y el toggle */
    }

    .nav-menu.active { transform: translateX(0); }
    
    .nav-links { flex-direction: column; text-align: center; gap: 2.5rem; }
    .nav-links a { font-size: 1.5rem; opacity: 1; }
    
    /* Botón en menú móvil */
    .nav-cta .btn-primary {
        font-size: 1rem;
        padding: 1rem 3rem;
    }
  }

  .menu-item {
    width: 100%;       /* Ocupar todo el ancho disponible */
    text-align: center; /* Forzar el texto al centro */
    display: block;    /* A veces necesario si son etiquetas <a> */
  }
  
  :global(.no-scroll) { overflow: hidden; }
</style>